## 2024-05-23 - Stored XSS in Offline-First App
**Vulnerability:** Stored XSS via `localStorage` import features. The app trusted local storage data implicitly, assuming it was only generated by the app itself. However, the import feature allows external data to enter `localStorage` without content sanitization.
**Learning:** "Offline-first" or "Local-first" apps often neglect input validation because they treat the local database as a trusted zone. Data import features bridge the gap between untrusted external world and trusted local storage, bypassing standard API validation layers.
**Prevention:** Sanitize data at the *rendering* layer (Output Encoding) regardless of source. Also, validate/sanitize imported data at the *entry* point (Input Validation), ensuring it conforms to expected schemas (e.g. valid UUIDs).
